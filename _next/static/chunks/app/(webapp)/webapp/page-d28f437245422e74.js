(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{8106:(e,t,o)=>{Promise.resolve().then(o.bind(o,8307))},1368:(e,t,o)=>{"use strict";o.r(t),o.d(t,{BackendAPIContext:()=>i,default:()=>a,useBackendAPIClient:()=>c});var s=o(5155),n=o(1123),l=o(2991),r=o(2115);let i=r.createContext(void 0);function a(e){let[t,o]=(0,r.useState)(void 0),a=(0,l.KEr)();return(0,r.useEffect)(()=>{void 0!==a&&o((0,n.UU)({auth:e=>a,baseUrl:"https://".concat("api.lattevpn.com")}))},[a]),(0,s.jsx)(i.Provider,{value:t,children:e.children})}function c(){return(0,r.useContext)(i)}},7406:(e,t,o)=>{"use strict";o.d(t,{Ay:()=>c,P2:()=>d});var s=o(5155),n=o(2115),l=o(1368),r=o(1690),i=o(3911);let a=n.createContext([void 0,()=>{}]);function c(e){let t=(0,l.useBackendAPIClient)(),[o,c]=(0,n.useState)(void 0),d=()=>{void 0!==t&&r.gz({client:t,body:{}}).then(e=>{void 0!==e.data?c(e.data):(console.error("put me api error",e),e.response.status>=500?(0,i.fv)({closeApp:!0}):403===e.response.status?(0,i.a7)({closeApp:!0}):(0,i.kE)({closeApp:!0}))}).catch(e=>{console.error("put me net error",e),(0,i.dR)({closeApp:!0})})};return(0,n.useEffect)(()=>{d()},[t]),(0,s.jsx)(a.Provider,{value:[o,d],children:e.children})}function d(){return(0,n.useContext)(a)}},2405:(e,t,o)=>{"use strict";o.d(t,{Ay:()=>d,WA:()=>c});var s=o(5155),n=o(2115),l=o(9757),r=o(5055),i=o(8884);let a=n.createContext(e=>{let{}=e});function c(e){let[t,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)("");return(0,s.jsxs)(a.Provider,{value:e=>{let{text:s,action:n}=e;d(s),n(),t?(o(!1),setTimeout(()=>o(!0),100)):o(!0)},children:[e.children,t&&(0,s.jsx)(i.qb,{style:{zIndex:1e4,textAlign:"center"},onClose:()=>o(!1),before:(0,s.jsx)(l.g,{icon:r.e68}),children:c})]})}function d(){return(0,n.useContext)(a)}},1161:(e,t,o)=>{"use strict";o.d(t,{Ay:()=>c,UA:()=>d,nT:()=>i});var s=o(5155),n=o(2115),l=o(7406),r=o(2991),i=function(e){return e[e.Loading=0]="Loading",e[e.NotAppleDevice=1]="NotAppleDevice",e[e.FirstOpen=2]="FirstOpen",e[e.WaitingFirstProfileInstallation=3]="WaitingFirstProfileInstallation",e[e.ShowMenu=4]="ShowMenu",e}({});let a=(0,n.createContext)([0,()=>{}]);function c(e){let[t,o]=(0,n.useState)(0),i=(0,r.Xr5)(),[c,d]=(0,l.P2)(),p=e=>{t!==e&&o(e)},u=()=>void 0===h||void 0===c?o(0):h||c.onboardingCompleted?c.onboardingCompleted?p(4):0===c.activeVpns.length?p(2):1===c.activeVpns.length&&null===c.activeVpns[0].appleDeviceInfo?(console.log("wait"),p(3)):p(4):p(1),h="macos"===i.tgWebAppPlatform||"ios"===i.tgWebAppPlatform;return(0,n.useEffect)(()=>{u()},[c,h,i]),(0,s.jsx)(a.Provider,{value:[t,u],children:e.children})}function d(){return(0,n.useContext)(a)}},3911:(e,t,o)=>{"use strict";o.d(t,{Xt:()=>a,a7:()=>r,dR:()=>n,fv:()=>l,kE:()=>i});var s=o(1095);function n(e){let{closeApp:t}=e;(0,s.yp5)({title:"Ошибка соединения",message:"Нам не удалось установить соединение с сервером LatteVPN. Попробуйте позже.",buttons:[{text:"Хорошо",type:"default",id:"ok"}]}).finally(()=>{t&&s.xgq.close()})}function l(e){let{closeApp:t}=e;(0,s.yp5)({title:"Ошибка на сервере",message:"Что-то пошло не так на сервере LatteVPN. Попробуйте повторить дейсвтеи позже.",buttons:[{text:"Хорошо",type:"default",id:"ok"}]}).finally(()=>{t&&s.xgq.close()})}function r(e){let{closeApp:t}=e;(0,s.yp5)({title:"Ошибка авторизации",message:"Попробуйте официальное приложение Telegram, чтобы мини-приложение работало корректно.",buttons:[{text:"Хорошо",type:"default",id:"ok"}]}).finally(()=>{t&&s.xgq.close()})}function i(e){let{closeApp:t}=e;(0,s.yp5)({title:"Неизвестный ответ сервера",message:"Сервер вернул неизвестный ответ. Попробуйте повторить действие позже.",buttons:[{text:"Хорошо",type:"default",id:"ok"}]}).finally(()=>{t&&s.xgq.close()})}function a(e){let{title:t,message:o,closeApp:n}=e;(0,s.yp5)({title:t,message:o,buttons:[{text:"Хорошо",type:"default",id:"ok"}]}).finally(()=>{n&&s.xgq.close()})}},8307:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>W});var s=o(5155),n=o(2991),l=o(2115),r=o(809),i=o(1368),a=o(932),c=o(1095),d=o(8884),p=o(5565);function u(){return(0,s.jsxs)("div",{className:"pt-5 flex flex-col gap-5 items-stretch",children:[(0,s.jsx)(d.Or,{header:"Настройка VPN в другом месте",description:"Для Android и Windows нужно другое мини-приложение",style:{backgroundColor:"var(--tg-theme-section-bg-color)"},className:"rounded-xl ",children:(0,s.jsx)(a.ai,{autoplay:!0,loop:!0,src:"/notiphone.json",className:" w-[150px] h-[150px]"})}),(0,s.jsx)(d.wn,{children:(0,s.jsx)(d.fh,{before:(0,s.jsx)(p.default,{src:"/confvpnbot.jpg",alt:"foo",width:40,height:40,className:"rounded-full"}),style:{backgroundColor:"var(--tg-theme-section-bg-color)"},description:"Подходит для всех видов устройств",onClick:()=>{(0,c.ajq)("https://t.me/confvpnbot?startapp")},children:"Конфигуратор VPN"})})]})}var h=o(5822),m=o(5055),x=o(9757),g=o(1690),f=o(7406);function v(e){let{humanAcceptorCountryCode:t,humanHiddenCountryCode:o}=e;return(0,s.jsxs)("p",{className:"flex flex-row gap-2 items-center font-semibold",children:[(0,s.jsx)("span",{children:t}),null!=o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.g,{icon:m.iHE}),(0,s.jsx)("span",{children:o})]}):(0,s.jsx)(s.Fragment,{})]})}var j=o(3911),b=o(2405),y=o(7170),C=o(8875),A=o(3100);function k(e){let{vpnProfile:t,title:o,footer:r}=e,i=(0,b.Ay)(),a=(0,n.Xr5)(),{appearance:p}=(0,l.useContext)(A.R);return(null==t?void 0:t.deviceKind)?(0,s.jsxs)(d.wn,{header:(0,s.jsx)(d.wn.Header,{children:o}),className:"px-5",footer:r,children:[(0,s.jsx)(d.fh,{before:(0,s.jsx)(x.g,{icon:m.jPR,color:"light"===p?a.tgWebAppThemeParams.link_color:a.tgWebAppThemeParams.text_color}),style:{backgroundColor:"var(--tg-theme-section-bg-color)"},onClick:()=>{i({text:"Ссылка скопирована",action:()=>(0,c.eMN)(t.downloadUrl)})},multiline:!0,children:"Скопировать ссылку"}),(0,s.jsx)(d.fh,{style:{backgroundColor:"var(--tg-theme-section-bg-color)"},multiline:!0,before:(0,s.jsx)(x.g,{icon:m.t5Z,color:"light"===p?a.tgWebAppThemeParams.link_color:a.tgWebAppThemeParams.text_color}),onClick:()=>{(0,c.VIp)(t.downloadUrl)},children:"Поделиться ссылкой"}),(0,s.jsx)(d.fh,{style:{backgroundColor:"var(--tg-theme-section-bg-color)"},before:(0,s.jsx)(x.g,{icon:m.cbP,color:"light"===p?a.tgWebAppThemeParams.link_color:a.tgWebAppThemeParams.text_color}),multiline:!0,onClick:()=>{(0,c.FeE)(t.downloadUrl)},children:"Открыть ссылку"})]}):(0,s.jsx)(s.Fragment,{children:"todo"})}function N(e){let{isOpen:t,setIsOpen:o,vpnProfile:r}=e,a=(0,b.Ay)(),p=(0,i.useBackendAPIClient)(),[u,h]=(0,f.P2)(),N=(0,n.Xr5)(),{appearance:P}=(0,l.useContext)(A.R),[w,T]=(0,l.useState)(void 0);return(null==r?void 0:r.appleDeviceInfo)||!t?(void 0!==w&&clearInterval(w),void 0!==w&&T(void 0)):void 0===w&&T(setInterval(()=>{h()},2e3)),(0,s.jsxs)(d.aF,{open:t,onOpenChange:e=>{o(e)},nested:!0,header:(0,s.jsx)(d.aF.Header,{after:(0,s.jsx)(y.O,{children:(0,s.jsx)(C.i,{onClick:()=>{o(!1)},style:{color:"var(--tg-theme-hint-color)"}})}),style:{color:"var(--tg-theme-hint-color)"},children:(null==r?void 0:r.appleDeviceInfo)?"Настройка VPN":""}),style:{backgroundColor:"var(--tg-theme-secondary-bg-color)"},children:[r&&(0,s.jsxs)("div",{children:[!r.appleDeviceInfo&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mx-5",children:(0,s.jsx)("p",{className:"p-3 rounded-xl text-xl font-semibold",style:{color:"var(--tg-theme-text-color)"},children:"Откройте ссылку на новом устройстве"})}),(0,s.jsx)("div",{className:"mx-5 rounded-xl",style:{backgroundColor:"var(--tg-theme-section-bg-color)"},children:(0,s.jsx)("div",{className:"p-3",children:(0,s.jsx)("p",{style:{overflowWrap:"anywhere",color:"var(--tg-theme-link-color)",cursor:"pointer"},onClick:()=>{(0,c.FeE)(r.downloadUrl)},children:r.downloadUrl})})}),(0,s.jsx)("div",{className:"mx-5 mt-2",children:(0,s.jsxs)("div",{className:"flex items-stretch rounded-b-xl",children:[(0,s.jsxs)("button",{style:{backgroundColor:"var(--tg-theme-button-color)",color:"var(--tg-theme-button-text-color)"},className:"w-full p-2 rounded-l-xl font-semibold items-center justify-center flex gap-2",onClick:()=>{a({text:"Ссылка скопирована",action:()=>(0,c.eMN)(r.downloadUrl)})},color:"light"===P?N.tgWebAppThemeParams.link_color:N.tgWebAppThemeParams.text_color,children:[(0,s.jsx)(x.g,{icon:m.jPR}),"Скопировать"]}),(0,s.jsxs)("button",{style:{backgroundColor:"var(--tg-theme-section-bg-color)"},className:"w-full rounded-r-xl font-semibold items-center justify-center flex gap-2",onClick:()=>{(0,c.VIp)(r.downloadUrl)},children:[(0,s.jsx)(x.g,{icon:m.t5Z}),"Поделиться"]})]})}),(0,s.jsx)(d.wn,{className:"px-5",header:(0,s.jsx)(d.wn.Header,{children:"Для друзей"}),children:(0,s.jsx)(d.fh,{before:(0,s.jsx)("img",{alt:"share",src:"/airdrop.svg",className:"max-w-[40px]"}),style:{backgroundColor:"var(--tg-theme-section-bg-color)"},onClick:()=>{navigator.share({url:r.downloadUrl})},multiline:!0,description:"Нажмите и поднесите верхушки ваших iPhone друг к другу",children:(0,s.jsx)("p",{className:"font-semibold",children:"Передать по AirDrop"})})})]}),(0,s.jsx)(d.wn,{className:"px-5",header:(0,s.jsx)(d.wn.Header,{children:"Маршрут подключения"}),footer:(0,s.jsx)(d.wn.Footer,{}),children:(0,s.jsx)(d.fh,{Component:"label",before:(0,s.jsx)(d.nx,{name:"country",value:"1",defaultChecked:!0,onChange:()=>{}}),style:{backgroundColor:"var(--tg-theme-section-bg-color)"},multiline:!0,description:r.humanHiddenCountryCode?"Ваше подключение идет к серверу в России, но для всего Интернета ваше страна подключения — ".concat(r.humanHiddenCountryCode):"",children:(0,s.jsx)(v,{humanAcceptorCountryCode:r.humanAcceptorCountryCode,humanHiddenCountryCode:r.humanHiddenCountryCode})})}),!!r.appleDeviceInfo&&(0,s.jsx)(k,{vpnProfile:r,title:"Переустановка",footer:(0,s.jsxs)(d.wn.Footer,{className:"leading-5",children:["LatteVPN для"," ",(0,s.jsx)("span",{className:"p-1 rounded-md font-semibold text-nowrap",style:{backgroundColor:"var(--tg-theme-section-bg-color)"},children:r.deviceHumanName})," ","установлен. Для переустановки откройте ссылку с нужного устройства еще раз"]})}),(0,s.jsx)(d.wn,{className:"px-5",header:(0,s.jsx)(d.wn.Header,{}),children:(0,s.jsx)(d.xM,{before:(0,s.jsx)(x.g,{icon:m.yLS}),mode:"destructive",onClick:()=>{(0,c.yp5)({title:"Удаление конфигурации",message:"Вы точно хотите удалить конфигурацию и отменить установку?",buttons:[{text:"Удалить",type:"destructive",id:"delete"},{text:"Отмена",type:"default",id:"cancel"}]}).then(e=>{"delete"===e&&g.Ae({client:p,body:{profileId:r.id}}).then(e=>{void 0!==e.data?(h(),o(!1)):(console.error("cannot delete ikev2 profile",e.response),e.response.status>=500?(0,j.fv)({closeApp:!1}):403===e.response.status?(0,j.a7)({closeApp:!1}):(0,j.kE)({closeApp:!1}))}).catch(e=>{console.error("create profile net error",e),(0,j.dR)({closeApp:!1})}).finally(()=>{h(),c.qo$.setParams({isLoaderVisible:!1})})})},children:"Удалить конфигурацию"})})]}),(0,s.jsx)("br",{})," ",(0,s.jsx)("br",{})]})}function P(){let e=(0,n.Xr5)(),{appearance:t}=(0,l.useContext)(A.R);return(0,s.jsx)(d.fh,{style:{backgroundColor:"var(--tg-theme-section-bg-color)"},before:(0,s.jsx)(x.g,{icon:h.wRm,size:"lg",className:"p-1",color:"light"===t?e.tgWebAppThemeParams.link_color:e.tgWebAppThemeParams.text_color}),onClick:()=>{(0,c.ajq)("https://t.me/".concat("confvpnsup"))},description:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(x.g,{icon:m.UJ6,color:e.tgWebAppThemeParams.button_color,className:""}),(0,s.jsx)("span",{children:"Поддержка на связи"})]}),children:"Возник вопрос?"})}var w=o(3463);function T(e){let{showAcceptCongrats:t}=e,[o,a]=(0,f.P2)(),p=(0,n.Xr5)(),[u,b]=(0,l.useState)(!1),[y,C]=(0,l.useState)(null==o?void 0:o.activeVpns[0]),k=(0,i.useBackendAPIClient)(),{appearance:T}=(0,l.useContext)(A.R),[V,I]=(0,l.useState)(!0);(0,l.useEffect)(()=>{a()},[u]),(0,l.useEffect)(()=>{null==o||o.activeVpns.forEach(e=>{e.id===(null==y?void 0:y.id)&&e.deviceKind!==(null==y?void 0:y.deviceKind)&&C(e)})},[o]);let U=e=>{let t="light"===T?p.tgWebAppThemeParams.link_color:p.tgWebAppThemeParams.text_color;switch(e){case"IPHONE":return(0,s.jsx)(x.g,{icon:m.XRN,size:"lg",className:"min-w-[25px]",color:t});case"MAC":return(0,s.jsx)(x.g,{icon:m.Lb_,size:"lg",className:"min-w-[25px]",color:t});case"MAC_BOOK":return(0,s.jsx)(x.g,{icon:m.YBv,color:t,size:"lg",className:"min-w-[25px]"});case"IPAD":return(0,s.jsx)(x.g,{icon:m.DIx,size:"lg",color:t,className:"min-w-[25px]"});default:return(0,s.jsx)(x.g,{icon:m.cbP,size:"lg",className:"min-w-[25px]",color:t})}},E=e=>{let t=e.split(" (");return t.length>1?(0,s.jsxs)("span",{children:[t[0],(0,s.jsxs)("span",{style:{color:p.tgWebAppThemeParams.hint_color},children:["\xa0",t[1].replace(")","")]})]}):(0,s.jsx)("span",{children:e})};return(0,s.jsxs)(r.Uu,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"",children:[(0,s.jsxs)(d.wn,{header:(0,s.jsx)(d.wn.Header,{children:"Устройства"}),footer:(0,s.jsx)(d.wn.Footer,{}),className:"",children:[(0,s.jsx)(d.xM,{onClick:()=>{g.uV({client:k,body:{}}).then(e=>{void 0!==e.data?(C(e.data),b(!0),a()):(console.error("create profile gateway error",e.response),e.response.status>=500?(0,j.fv)({closeApp:!1}):403===e.response.status?(0,j.a7)({closeApp:!1}):400===e.response.status?(e.error,(0,j.Xt)({title:"Превышен лимит",closeApp:!1,message:"Вы добавили максимально возможное количество устройств для своего аккаунта"})):(0,j.kE)({closeApp:!1}))}).catch(e=>{console.error("create profile net error",e),(0,j.dR)({closeApp:!1})}).finally(()=>{a(),c.qo$.setParams({isLoaderVisible:!1})})},before:(0,s.jsx)(x.g,{size:"lg",icon:m.QLR,className:"min-w-[20px]"}),style:{color:"var(--tg-theme-link-color)"},children:(0,s.jsx)("p",{className:"font-semibold",children:"Добавить новое устройство"})}),o.activeVpns.map(e=>(0,s.jsx)(d.fh,{before:U(e.deviceKind),subhead:e.appleDeviceInfo?e.deviceUserName:"Ожидает установку",style:{backgroundColor:"var(--tg-theme-section-bg-color)"},onClick:()=>{C(e),b(!0)},description:(0,s.jsx)(v,{humanAcceptorCountryCode:e.humanAcceptorCountryCode,humanHiddenCountryCode:e.humanHiddenCountryCode}),children:E(e.deviceHumanName)},e.id))]}),(0,s.jsx)(r.Uu,{layout:!0,whileTap:{scale:.99},transition:{type:"spring",duration:.2},onClick:()=>{(0,c.FeE)("https://telegra.ph/Avtomaticheskoe-vklyuchenie-LatteVPN-v-prilozheniyah-i-ruchnoe-cherez-shtorku-05-13",{tryInstantView:!0})},children:(0,s.jsxs)(d.wn,{header:(0,s.jsx)(d.wn.Header,{children:"Дополнительно"}),className:"rounded-xl",children:[(0,s.jsx)(d.EA,{withoutAnimation:!1,visible:V,className:"rounded-xl",children:(0,s.jsx)(r.yP,{playsInline:!0,autoPlay:!0,muted:!0,loop:!0,layout:!0,className:(0,w.A)("p-2 rounded-xl"),onCanPlay:()=>I(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,s.jsx)("source",{src:"/enable-demo.mov",type:"video/mp4"})})}),(0,s.jsx)(d.fh,{before:(0,s.jsx)(x.g,{icon:h.rC2,size:"lg",className:"min-w-[25px]",color:"light"===T?p.tgWebAppThemeParams.link_color:p.tgWebAppThemeParams.text_color}),style:{backgroundColor:"var(--tg-theme-section-bg-color)"},multiline:!0,description:"Узнайте, как включать VPN из верхней шторки или настроить автоматическое включение в выбранных приложениях",children:(0,s.jsx)("span",{className:"font-semibold",children:"Настроить включение"})})]})}),(0,s.jsx)(d.wn,{header:(0,s.jsx)(d.wn.Header,{children:"Поддержка"}),children:(0,s.jsx)(P,{})}),(0,s.jsx)(N,{isOpen:u&&void 0!==y,setIsOpen:b,vpnProfile:y}),(0,s.jsx)("br",{})]})}var V=o(1161);function I(){let[e,t]=(0,f.P2)(),o=(0,i.useBackendAPIClient)(),a=(0,n.Xr5)(),[u,h]=(0,V.UA)(),m=()=>{(0,c.XuU)({}).then(s=>{"allowed"===s?void 0!==e&&(c.qo$.setParams({isLoaderVisible:!0}),(null==e?void 0:e.activeVpns.length)>=1?((0,c.FeE)(e.activeVpns[0].downloadUrl),t(),c.qo$.setParams({isLoaderVisible:!1})):g.uV({client:o,body:{}}).then(e=>{void 0!==e.data?(0,c.FeE)(e.data.downloadUrl):e.response.status>=500?(0,j.fv)({closeApp:!0}):403===e.response.status?(0,j.a7)({closeApp:!1}):(0,j.kE)({closeApp:!1})}).catch(e=>{console.error("put me net error",e),(0,j.dR)({closeApp:!1})}).finally(()=>{t(),c.qo$.setParams({isLoaderVisible:!1})})):alert("Вам нужно разрешить боту отправлять вам сообщения")}).catch(e=>{alert("Вам нужно обновить приложение Telegram")})};return(0,l.useEffect)(()=>{c.qo$.offClick(m),u===V.nT.FirstOpen&&(c.qo$.setParams({text:"Установить профиль VPN",isVisible:!0,isEnabled:void 0!==e,isLoaderVisible:!1,hasShineEffect:!0,backgroundColor:a.tgWebAppThemeParams.button_color}),c.qo$.onClick(m))},[e,u]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.gj,{count:3,progress:1}),(0,s.jsx)(r.Uu,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"pt-3",children:(0,s.jsx)(d.Or,{header:"Настройка LatteVPN",description:"Для вашего устройства нужно установить специальный профиль конфигурации",style:{backgroundColor:"var(--tg-theme-section-bg-color)"},className:"rounded-xl ",children:(0,s.jsx)(p.default,{src:"/sticker.webp",alt:"foo",width:200,height:200})})})]})}function U(){let[e,t]=(0,f.P2)(),[o,i]=(0,V.UA)(),a=(0,n.Xr5)(),p=(0,b.Ay)();return(0,l.useEffect)(()=>{o==V.nT.WaitingFirstProfileInstallation&&c.qo$.setParams({isVisible:!1})},[o]),(0,s.jsxs)(r.Uu,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[(0,s.jsx)(d.gj,{count:3,progress:2}),(0,s.jsx)("div",{className:"pt-3",children:(0,s.jsx)(d.Or,{header:(0,s.jsx)("p",{className:"self-start text-center",children:"Подтвердите установку"}),description:(0,s.jsxs)("p",{className:"self-start text-left text-sm",children:["В Настройках должен появиться новый раздел — Профили. Откройте Настройки и подтвердите установку LatteVPN.",(0,s.jsx)("br",{})]}),style:{backgroundColor:"var(--tg-theme-section-bg-color)"},className:"rounded-xl",children:(0,s.jsxs)("div",{style:{backgroundColor:"var(--tg-theme-section-bg-color)"},className:"flex gap-5 justify-center items-center rounded-xl",children:[(0,s.jsx)("img",{width:"20%",height:100,alt:"foo",src:"/apple-settings.svg"}),(0,s.jsx)(x.g,{icon:m.dmS,size:"2xl"}),(0,s.jsx)("img",{className:"rounded-lg shadow-md",src:"/profile-installed.jpeg",alt:"foo",width:"50%"})]})})}),(0,s.jsxs)(d.wn,{header:"Дополнительно",className:"",children:[(0,s.jsx)(d.fh,{style:{backgroundColor:"var(--tg-theme-section-bg-color)"},description:"Если установка пошла не по плану",before:(0,s.jsx)(x.g,{icon:m.cbP,size:"lg",className:"p-1"}),disabled:void 0===e,onClick:()=>{console.log("download"),(0,c.FeE)(e.activeVpns[0].downloadUrl)},children:"Скачать профиль еще раз"}),(0,s.jsx)(d.fh,{style:{backgroundColor:"var(--tg-theme-section-bg-color)"},multiline:!0,description:"Например, чтобы открыть с другого устройства",before:(0,s.jsx)(x.g,{icon:h.jPR,size:"lg",className:"p-1"}),disabled:void 0===e,onClick:()=>{p({text:"Ссылка скопирована",action:()=>(0,c.eMN)(e.activeVpns[0].downloadUrl)})},children:"Скопировать ссылку на профиль"}),(0,s.jsx)(d.fh,{style:{backgroundColor:"var(--tg-theme-section-bg-color)"},before:(0,s.jsx)(x.g,{icon:h.wRm,size:"lg",className:"p-1"}),description:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(x.g,{icon:m.UJ6,color:a.tgWebAppThemeParams.button_color,className:""}),(0,s.jsx)("span",{children:"Поддержка на связи"})]}),children:"Есть вопрос"})]})]})}var E=o(6214);function W(){let[e,t]=(0,V.UA)(),[o,a]=(0,f.P2)();(0,i.useBackendAPIClient)(),(0,n.Xr5)();let[c,d]=(0,l.useState)(void 0);return(console.log(c),e!==V.nT.WaitingFirstProfileInstallation&&void 0!==c&&(clearInterval(c),d(void 0)),e===V.nT.Loading)?(0,s.jsx)(r.Uu,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:(0,s.jsx)(E.o,{color:"default",size:"md",variant:"dots",className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})}):e===V.nT.NotAppleDevice?(0,s.jsx)(u,{}):e===V.nT.FirstOpen?(0,s.jsx)(I,{}):e===V.nT.WaitingFirstProfileInstallation?(void 0===c&&(console.log("pull for new me"),d(setInterval(()=>{a()},2e3))),(0,s.jsx)(U,{})):e==V.nT.ShowMenu?(0,s.jsx)(T,{showAcceptCongrats:!0}):void 0}},1690:(e,t,o)=>{"use strict";o.d(t,{uV:()=>l,Ae:()=>r,gz:()=>i});var s=o(1123);let n=(0,s.UU)((0,s.Z3)()),l=e=>{var t;return(null!==(t=e.client)&&void 0!==t?t:n).post({security:[{name:"X-TMA-Auth",type:"apiKey"}],url:"/create-ikev2-profile",...e,headers:{"Content-Type":"application/json",...null==e?void 0:e.headers}})},r=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:n).delete({security:[{name:"X-TMA-Auth",type:"apiKey"}],url:"/delete-ikev2-profile",...e})},i=e=>{var t;return(null!==(t=e.client)&&void 0!==t?t:n).put({security:[{name:"X-TMA-Auth",type:"apiKey"}],url:"/me",...e,headers:{"Content-Type":"application/json",...null==e?void 0:e.headers}})}}},e=>{var t=t=>e(e.s=t);e.O(0,[266,977,78,193,757,692,59,441,517,120],()=>t(8106)),_N_E=e.O()}]);